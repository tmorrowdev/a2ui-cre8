@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96%;
    --muted-foreground: 0 0% 45%;
    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 200 100% 30%;
    --radius: 0.125rem;

    /* Brand blue: #006699 = hsl(200, 100%, 30%) */
    --brand: 200 100% 30%;
    --brand-light: 200 100% 95%;
    --brand-lighter: 200 60% 97%;
    --brand-dark: 200 100% 22%;
  }

  .dark {
    --background: 0 0% 7%;
    --foreground: 0 0% 98%;
    --card: 0 0% 7%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 7%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 15%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 64%;
    --accent: 0 0% 15%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 15%;
    --input: 0 0% 15%;
    --ring: 200 100% 45%;

    /* Brand blue in dark mode - slightly lighter */
    --brand: 200 100% 45%;
    --brand-light: 200 50% 15%;
    --brand-lighter: 200 30% 12%;
    --brand-dark: 200 100% 35%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Google Sans Flex', system-ui, -apple-system, sans-serif;
    /* Slightly lighter base weight since Google Sans Flex runs larger */
    font-optical-sizing: auto;
    font-variation-settings:
      'wght' 380,
      'wdth' 100,
      'slnt' 0,
      'GRAD' 0,
      'ROND' 0;
    font-size: 15px;
    line-height: 1.6;
  }

  code, pre {
    font-family: 'JetBrains Mono', ui-monospace, monospace;
  }

  /* Headings with optical sizing and creative axis use */
  h1, h2, h3, h4, h5, h6 {
    font-optical-sizing: auto;
    letter-spacing: -0.01em;
  }

  h1 {
    font-variation-settings: 'wght' 580, 'wdth' 92, 'GRAD' 40, 'ROND' 15;
    letter-spacing: -0.02em;
  }

  h2 {
    font-variation-settings: 'wght' 540, 'wdth' 95, 'GRAD' 25, 'ROND' 10;
    letter-spacing: -0.015em;
  }

  h3 {
    font-variation-settings: 'wght' 520, 'wdth' 98, 'GRAD' 15, 'ROND' 8;
  }

  h4 {
    font-variation-settings: 'wght' 500, 'wdth' 100, 'GRAD' 10, 'ROND' 5;
  }

  /* Paragraph text - slightly condensed for better readability */
  p {
    font-variation-settings: 'wght' 380, 'wdth' 98, 'GRAD' 0, 'ROND' 0;
  }

  /* Small text - slightly expanded for legibility */
  small, .text-sm {
    font-variation-settings: 'wght' 400, 'wdth' 102, 'GRAD' 0, 'ROND' 0;
  }
}

/* ============================================
   Google Sans Flex Variable Font Utilities
   Axes: wght, wdth, opsz, slnt, GRAD, ROND
   ============================================ */

/* Weight variations (100-1000) */
.font-thin { font-variation-settings: 'wght' 100, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-extralight { font-variation-settings: 'wght' 200, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-light { font-variation-settings: 'wght' 300, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-normal { font-variation-settings: 'wght' 400, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-medium { font-variation-settings: 'wght' 500, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-semibold { font-variation-settings: 'wght' 600, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-bold { font-variation-settings: 'wght' 700, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-extrabold { font-variation-settings: 'wght' 800, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }
.font-black { font-variation-settings: 'wght' 900, 'wdth' var(--font-width, 100), 'slnt' var(--font-slant, 0), 'GRAD' var(--font-grade, 0), 'ROND' var(--font-round, 0); }

/* Width variations (75-125) */
.font-condensed { --font-width: 75; font-stretch: 75%; }
.font-semicondensed { --font-width: 87; font-stretch: 87%; }
.font-normal-width { --font-width: 100; font-stretch: 100%; }
.font-semiexpanded { --font-width: 112; font-stretch: 112%; }
.font-expanded { --font-width: 125; font-stretch: 125%; }

/* Slant variations (0 to -10) */
.font-upright { --font-slant: 0; font-style: normal; }
.font-slight-slant { --font-slant: -3; font-style: oblique 3deg; }
.font-slanted { --font-slant: -6; font-style: oblique 6deg; }
.font-italic { --font-slant: -10; font-style: oblique 10deg; }

/* Grade variations (-200 to 150) - affects stroke contrast */
.font-grade-low { --font-grade: -100; }
.font-grade-normal { --font-grade: 0; }
.font-grade-high { --font-grade: 75; }
.font-grade-max { --font-grade: 150; }

/* Roundedness variations (0-100) */
.font-sharp { --font-round: 0; }
.font-slightly-round { --font-round: 25; }
.font-rounded { --font-round: 50; }
.font-very-round { --font-round: 75; }
.font-super-round { --font-round: 100; }

/* ============================================
   Expressive Text Styles
   Creative combinations of variable font axes
   ============================================ */

/* Hero headlines - condensed, bold, with presence */
.text-hero {
  font-variation-settings: 'wght' 620, 'wdth' 90, 'slnt' 0, 'GRAD' 50, 'ROND' 12;
  font-optical-sizing: auto;
  letter-spacing: -0.025em;
  line-height: 1.05;
}

/* Display text - section headers, slightly softer */
.text-display {
  font-variation-settings: 'wght' 560, 'wdth' 94, 'slnt' 0, 'GRAD' 30, 'ROND' 18;
  font-optical-sizing: auto;
  letter-spacing: -0.018em;
  line-height: 1.15;
}

/* Headlines - card titles, feature headers */
.text-headline {
  font-variation-settings: 'wght' 520, 'wdth' 97, 'slnt' 0, 'GRAD' 20, 'ROND' 10;
  font-optical-sizing: auto;
  letter-spacing: -0.01em;
  line-height: 1.25;
}

/* Titles - navigation, smaller headers */
.text-title {
  font-variation-settings: 'wght' 480, 'wdth' 100, 'slnt' 0, 'GRAD' 15, 'ROND' 8;
  font-optical-sizing: auto;
  letter-spacing: -0.005em;
}

/* Subtitles - secondary information */
.text-subtitle {
  font-variation-settings: 'wght' 420, 'wdth' 100, 'slnt' 0, 'GRAD' 0, 'ROND' 5;
  font-optical-sizing: auto;
  line-height: 1.5;
}

/* Body text - standard reading */
.text-body {
  font-variation-settings: 'wght' 380, 'wdth' 98, 'slnt' 0, 'GRAD' 0, 'ROND' 0;
  font-optical-sizing: auto;
  line-height: 1.6;
}

/* Lead paragraphs - intro text, larger */
.text-lead {
  font-variation-settings: 'wght' 360, 'wdth' 98, 'slnt' 0, 'GRAD' -10, 'ROND' 5;
  font-optical-sizing: auto;
  line-height: 1.7;
}

/* Caption text - supporting info */
.text-caption {
  font-variation-settings: 'wght' 400, 'wdth' 100, 'slnt' 0, 'GRAD' 0, 'ROND' 0;
  font-optical-sizing: auto;
  line-height: 1.5;
}

/* Labels - uppercase, expanded, strong */
.text-label {
  font-variation-settings: 'wght' 480, 'wdth' 108, 'slnt' 0, 'GRAD' 20, 'ROND' 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.75em;
}

/* Brand accent - the "AI agents" style, distinctive */
.text-brand {
  font-variation-settings: 'wght' 580, 'wdth' 88, 'slnt' 0, 'GRAD' 50, 'ROND' 25;
  color: hsl(var(--brand));
  letter-spacing: -0.01em;
}

/* Strong emphasis - bold but friendly */
.text-strong {
  font-variation-settings: 'wght' 600, 'wdth' 98, 'slnt' 0, 'GRAD' 30, 'ROND' 15;
}

/* Technical/code-like - expanded, crisp */
.text-technical {
  font-variation-settings: 'wght' 420, 'wdth' 105, 'slnt' 0, 'GRAD' -30, 'ROND' 0;
  letter-spacing: 0.01em;
}

/* Quotes - slanted, rounded, expressive */
.text-quote {
  font-variation-settings: 'wght' 380, 'wdth' 100, 'slnt' -8, 'GRAD' 0, 'ROND' 35;
  line-height: 1.6;
}

/* Numbers - tabular, slightly condensed */
.text-number {
  font-variation-settings: 'wght' 450, 'wdth' 95, 'slnt' 0, 'GRAD' 10, 'ROND' 0;
  font-feature-settings: 'tnum' 1;
}

/* Button text - medium weight, slightly expanded */
.text-button {
  font-variation-settings: 'wght' 480, 'wdth' 102, 'slnt' 0, 'GRAD' 20, 'ROND' 10;
  letter-spacing: 0.01em;
}

/* Nav links - balanced, clear */
.text-nav {
  font-variation-settings: 'wght' 420, 'wdth' 100, 'slnt' 0, 'GRAD' 10, 'ROND' 5;
  letter-spacing: 0.005em;
}

/* Badge/tag text - compact, readable */
.text-badge {
  font-variation-settings: 'wght' 460, 'wdth' 100, 'slnt' 0, 'GRAD' 15, 'ROND' 8;
  letter-spacing: 0.02em;
}

/* Feature cards - slightly rounded, approachable */
.text-feature {
  font-variation-settings: 'wght' 400, 'wdth' 98, 'slnt' 0, 'GRAD' 5, 'ROND' 20;
  line-height: 1.6;
}

/* CTA emphasis - attention-grabbing */
.text-cta {
  font-variation-settings: 'wght' 540, 'wdth' 96, 'slnt' 0, 'GRAD' 40, 'ROND' 15;
  letter-spacing: -0.005em;
}

/* Interactive/hover effects using font variations */
.font-hover-bold {
  transition: font-variation-settings 0.2s ease;
}
.font-hover-bold:hover {
  font-variation-settings: 'wght' 600, 'wdth' 100, 'slnt' 0, 'GRAD' 50, 'ROND' 0;
}

/* Animated weight for loading states */
@keyframes fontPulse {
  0%, 100% { font-variation-settings: 'wght' 400, 'wdth' 100, 'GRAD' 0; }
  50% { font-variation-settings: 'wght' 600, 'wdth' 100, 'GRAD' 50; }
}

.font-pulse {
  animation: fontPulse 1.5s ease-in-out infinite;
}

/* Responsive typography using optical sizing */
@media (max-width: 640px) {
  body {
    font-variation-settings: 'wght' 420, 'wdth' 100, 'GRAD' 20;
  }
  h1 {
    font-variation-settings: 'wght' 650, 'wdth' 90, 'GRAD' 80, 'ROND' 25;
  }
}

@media (min-width: 1280px) {
  h1 {
    font-variation-settings: 'wght' 580, 'wdth' 98, 'GRAD' 30, 'ROND' 15;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* A2UI Preview Animations */
@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

/* Staggered animation for list items */
@keyframes staggerSlideUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Apply to preview container */
.preview-container {
  animation: slideUp 0.4s ease-out;
}

/* Staggered children animation for Mantine Stack components (Column/List) */
.preview-container .mantine-Stack-root > * {
  animation: staggerSlideUp 0.3s ease-out backwards;
}

.preview-container .mantine-Stack-root > *:nth-child(1) { animation-delay: 0ms; }
.preview-container .mantine-Stack-root > *:nth-child(2) { animation-delay: 60ms; }
.preview-container .mantine-Stack-root > *:nth-child(3) { animation-delay: 120ms; }
.preview-container .mantine-Stack-root > *:nth-child(4) { animation-delay: 180ms; }
.preview-container .mantine-Stack-root > *:nth-child(5) { animation-delay: 240ms; }
.preview-container .mantine-Stack-root > *:nth-child(n+6) { animation-delay: 300ms; }

/* Staggered for Mantine Group components (Row) */
.preview-container .mantine-Group-root > * {
  animation: staggerSlideUp 0.25s ease-out backwards;
}

.preview-container .mantine-Group-root > *:nth-child(1) { animation-delay: 0ms; }
.preview-container .mantine-Group-root > *:nth-child(2) { animation-delay: 40ms; }
.preview-container .mantine-Group-root > *:nth-child(3) { animation-delay: 80ms; }
.preview-container .mantine-Group-root > *:nth-child(4) { animation-delay: 120ms; }
.preview-container .mantine-Group-root > *:nth-child(n+5) { animation-delay: 160ms; }

/* Card entrance animation */
.preview-container .mantine-Card-root {
  animation: slideUp 0.4s ease-out;
}

/* Badge pop animation */
.preview-container .mantine-Badge-root {
  animation: popIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes popIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Button slide animation */
.preview-container .mantine-Button-root {
  animation: staggerSlideUp 0.3s ease-out backwards;
  animation-delay: 150ms;
}

/* Thinking indicator pulse */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

.thinking-indicator {
  animation: pulse 1.5s ease-in-out infinite;
}

/* Scenario button hover effect */
.scenario-btn {
  transition: all 0.2s ease;
}

.scenario-btn:hover:not(:disabled) {
  transform: translateX(4px);
}

/* Chat message entrance */
@keyframes chatSlide {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.chat-message {
  animation: chatSlide 0.25s ease-out;
}

/* Empty state float animation */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.empty-state-icon {
  animation: float 3s ease-in-out infinite;
}

/* Text shimmer for loading states */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.loading-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255,255,255,0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}
